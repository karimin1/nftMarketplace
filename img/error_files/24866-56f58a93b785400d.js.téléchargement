"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24866],{75411:function(e,t,n){n.d(t,{K0:function(){return a},Zk:function(){return i}});var r=n(38398),i=()=>{var e="/email/ss_premier_sub_account_activation_email";return{url:e,formattedUrl:(0,r.format)({pathname:e})}},a=()=>{var e="/email/premier_cart_confirmation";return{url:e,formattedUrl:(0,r.format)({pathname:e})}}},25857:function(e,t,n){n.d(t,{AN:function(){return f},FB:function(){return d},Hf:function(){return _},Pf:function(){return g},Xq:function(){return c},ZQ:function(){return p},_W:function(){return h},bw:function(){return v},dv:function(){return l},h2:function(){return u},nS:function(){return m}});var r=n(57460),i=n(6692),a=n(17527),o=n(38398),s=e=>{var{urlParams:t={},queryParams:n={}}=e,i="/cart/".concat(t.isPrimary?a.Yl:a.d7),s=(0,r._)({},n);return{url:i,defaultParams:s,formattedUrl:(0,o.format)({pathname:i,query:s})}},l=function(){var{urlParams:e={},queryParams:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=s({urlParams:e,queryParams:t}),a=(0,r._)({},n.defaultParams);return(0,i._)((0,r._)({},n),{defaultParams:a,formattedUrl:(0,o.format)({pathname:n.url,query:a})})},u=s,c=s,d=e=>{var{urlParams:t={},queryParams:n={}}=e,i="/cart/".concat(t.fromCartType,"/to/").concat(t.toCartType),a=(0,r._)({},n);return{url:i,defaultParams:a,formattedUrl:(0,o.format)({pathname:i,query:a})}},v=e=>{var{urlParams:t={}}=e,n="/organization/".concat(t.organizationId,"/invitations/").concat(t.status);return{url:n,formattedUrl:(0,o.format)({pathname:n})}},m=e=>{var{urlParams:t={}}=e,n="/account/user/".concat(t.id,"/settings");return{url:n,formattedUrl:(0,o.format)({pathname:n})}},p=e=>{var{urlParams:t={}}=e,n="/account/user/".concat(t.id,"/settings");return{url:n,formattedUrl:(0,o.format)({pathname:n})}},f=e=>{var{urlParams:t={}}=e,n="/organization/".concat(t.organizationId,"/invitations/").concat(t.invitationId);return{url:n,formattedUrl:(0,o.format)({pathname:n})}},_=e=>{var{urlParams:t={}}=e,n="/organization/".concat(t.organizationId,"/invitations");return{url:n,formattedUrl:(0,o.format)({pathname:n})}},h=e=>{var{urlParams:t={}}=e,n="/organization/users/".concat(t.id);return{url:n,formattedUrl:(0,o.format)({pathname:n})}},g=function(){var{queryParams:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/cart/".concat(a.Yl,"/quote"),n=(0,i._)((0,r._)({},e),{exclude_comps:1,expand:"agreements"});return{url:t,defaultParams:n,formattedUrl:(0,o.format)({pathname:t,query:n})}}},24866:function(e,t,n){n.r(t),n.d(t,{MosaicAssetGridWithViews:function(){return w}});var r=n(57460),i=n(6692),a=n(52322),o=n(5700),s=n(2281),l=n(15438),u=n(39015),c=n(48152),d=n(35936),v=n(2500),m=n(85486),p=n(25237),f=n.n(p)()(()=>Promise.resolve().then(n.bind(n,60096)).then(e=>e.SignUpModal),{loadableGenerated:{webpack:()=>[60096]},ssr:!1}),_=e=>{var{assetOverlayProps:t}=e,n=(0,s._)(e,["assetOverlayProps"]),{assets:o,hideAddToCart:p,hideSimilarAction:_,onAddToCollectionsComplete:h,listId:g,showInlineSimilarity:y}=n,{assetType:b}=(0,m.JI)(),{AddToCartViews:w,addToCartViewsHandler:C,addToCartViewsProps:I}=(0,c.t)(),{AddToCollectionViews:S,addToCollectionViewsHandler:T,addToCollectionViewsProps:A,isModalOpen:k,handleCloseModal:P,collectionProps:j}=(0,d.V)({initialAssetType:b}),{PreviewModal:x,previewModalProps:E,onAssetModalHandler:U}=(0,u.R)({addToCartViewsHandler:C,addToCollectionViewsHandler:T,assets:o,compLicensingHandler:null,licensingAssetId:null,withGoToPageAction:!0,withNavigationArrows:!0,listId:g,SecondaryActionsComponent:void 0,analyticsEventSection:void 0}),D=(0,v.aT)(null==o?void 0:o[0]);return(0,a.jsxs)(a.Fragment,{children:[k&&(0,a.jsx)(f,(0,r._)({modalIsOpen:k,handleClose:P},D&&{collectionProps:j})),(0,a.jsx)(l.MosaicAssetGrid,(0,r._)({assetOverlayProps:(0,r._)({listId:g,addToCartViewsHandler:C,addToCollectionViewsHandler:T,onAssetModalHandler:U,shouldHideOnImageMobile:!0},t),showInlineSimilarity:y},n)),(0,a.jsx)(w,(0,r._)({},I)),(0,a.jsx)(S,(0,r._)({onAddToCollectionsComplete:h},A)),(0,a.jsx)(x,(0,i._)((0,r._)({},E),{hideAddToCart:p,hideSimilarAction:_,showActionIcons:!0}))]})},h=n(29318),g=e=>{var{assetOverlayProps:t}=e,n=(0,s._)(e,["assetOverlayProps"]),{assets:o,hideAddToCart:v,onAddToCollectionsComplete:p,listId:f,showInlineSimilarity:_}=n,{assetType:g}=(0,m.JI)(),{CompLicensingViews:y,licensingAssetId:b,compLicensingProps:w,compLicensingHandler:C}=(0,h.r)(),{AddToCartViews:I,addToCartViewsHandler:S,addToCartViewsProps:T}=(0,c.t)(),{AddToCollectionViews:A,addToCollectionViewsHandler:k,addToCollectionViewsProps:P}=(0,d.V)({initialAssetType:g}),{PreviewModal:j,previewModalProps:x,onAssetModalHandler:E}=(0,u.R)({addToCartViewsHandler:S,addToCollectionViewsHandler:k,assets:o,compLicensingHandler:C,licensingAssetId:b,withGoToPageAction:!0,withNavigationArrows:!0,listId:f,SecondaryActionsComponent:void 0,analyticsEventSection:void 0});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.MosaicAssetGrid,(0,r._)({assetOverlayProps:(0,r._)({listId:f,addToCartViewsHandler:S,addToCollectionViewsHandler:k,compLicensingHandler:C,licensingAssetId:b,onAssetModalHandler:E},t),showInlineSimilarity:_},n)),(0,a.jsx)(I,(0,r._)({},T)),(0,a.jsx)(A,(0,r._)({onAddToCollectionsComplete:p},P)),(0,a.jsx)(j,(0,i._)((0,r._)({},x),{hideAddToCart:v,showActionIcons:!0})),(0,a.jsx)(y,(0,r._)({},w))]})},y=n(3383),b=n(49956),w=e=>{var{setThroughProvider:t,assets:n,isBrandSstk:s}=(0,o.R)(),{isBrandEnterprise:l}=(0,y.D)(),u=(0,b.d)(),{assets:c}=e,d=t?n:c;switch("".concat(u?"MOBILE":"DESKTOP","_").concat((t?s:!l)?"ECOMM":"ENTERPRISE")){case"MOBILE_ENTERPRISE":case"DESKTOP_ENTERPRISE":return(0,a.jsx)(g,(0,i._)((0,r._)({},e),{assets:d}));default:return(0,a.jsx)(_,(0,i._)((0,r._)({},e),{assets:d}))}}},48152:function(e,t,n){n.d(t,{J:function(){return T},t:function(){return A}});var r=n(81862),i=n(52322),a=n(67461),o=n(35671),s=n(2784),l=n(57460),u=n(2281),c=n(25237),d=n.n(c)()(()=>Promise.all([n.e(3764),n.e(20614),n.e(75700),n.e(25353),n.e(9046),n.e(6957)]).then(n.bind(n,37341)).then(e=>e.AddToCartDialog),{loadableGenerated:{webpack:()=>[37341]},ssr:!1}),v=e=>{var{isActive:t}=e,n=(0,u._)(e,["isActive"]);return(0,o.B)(t)&&(0,i.jsx)(d,(0,l._)({isActive:t},n))},m=n(6692),p=n(15921),f=n(77680),_=n(38135),h=n(1150),g=n(17527),y=n(45839),b=n(3383),w=n(79428),C=e=>{var{status:t,isSizeLimitWarning:n,alertLabels:r}=e;return n?r.sizeLimitWarning:t===h.MR?r.addToCartSuccess:r.addToCartWarning},I=e=>{var{isOpen:t,isSizeLimitWarning:n=!1,addToCartStatus:r,snackBarActionAllowed:a=!0,handleSnackbarClose:o}=e,{t:s}=(0,w.$G)(p.jey),{status:u,error:c}=r,d={addToCartSuccess:s("common:actions_added_to_cart"),addToCartWarning:s("notifications:label_add_to_cart_failure"),sizeLimitWarning:s("ent:cart_size_limit_warning",{LIMIT:g.fv}),viewActionLabel:s("common:actions_view")},v=C({status:u,isSizeLimitWarning:n,alertLabels:d}),{isBrandEnterprise:I}=(0,b.D)(),{viewCartAction:S}=(0,f.q)(),T=(0,y.W)(),A={onClick:()=>{o(),I?T():S()},label:d.viewActionLabel};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(_.DynamicSnackbar,(0,m._)((0,l._)({},r.status===h.MR&&a&&{alertAction:A}),{alertSeverity:u,error:c,handleSnackbarClose:o,isOpen:t&&!!u,message:v}))})},S={status:"",error:void 0},T=e=>{var{addToCartStatus:t=S,assets:n=null,eventLabel:r,gridItems:a=null,isAddToCartDialogActive:s,isPrimary:l,isSnackBarOpen:u,isSizeLimitWarning:c,onAddToCart:d,onAlertSnackbarClose:m,setIsAddToCartDialogActive:p,pageSection:f,listId:_,snackBarActionAllowed:h=!0}=e;return(0,o.B)(n)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{assets:n,eventLabel:r,gridItems:a,isActive:s,isPrimary:l,listId:_,onAddToCart:d,pageSection:f,setIsActive:p}),(0,i.jsx)(I,{snackBarActionAllowed:h,addToCartStatus:t,handleSnackbarClose:m,isOpen:u,isSizeLimitWarning:c})]}):null},A=function(){var e,t,{withOptimisticUpdate:n=!0,setIsVerifying:i,snackBarActionAllowed:o=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l,u]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[v,m]=(0,s.useState)(null),[p,f]=(0,s.useState)(null),[_,h]=(0,s.useState)(!0),[g,y]=(0,s.useState)(null),[b,w]=(0,s.useState)(null),[C,I]=(0,s.useState)(null),{addCartItems:S,moveToSaveForLater:A,moveToPrimary:k,addToCartStatus:P,isSizeLimitWarning:j,notAddedSelectVideos:x}=(0,a.gV)();(0,s.useEffect)(()=>()=>m(null),[]);var E=(0,s.useCallback)(e=>{var{assets:t,eventLabel:r,licenseId:a,formatType:o,licensePrice:s,cart:l,mutateCart:u,notAddedSelectVideoIds:c,pageSection:m,listId:f}=e;null==i||i(!0),d(!0),S({cart:l,eventLabel:r,gridItems:p,isPrimary:_,itemsToAdd:t||v,licenseId:a,formatType:o,licensePrice:s,mutateCart:u,notAddedSelectVideoIds:c,withOptimisticUpdate:n,pageSection:m,listId:f})},[v,p,S,_,i,n]),U=(0,s.useCallback)((e=(0,r._)(function*(e){var{itemsToMove:t,primaryCart:n,mutatePrimaryCart:r,mutateSavedForLaterCart:a}=e;null==i||i(!0),d(!0);try{yield k({itemsToMove:t,primaryCart:n,mutatePrimaryCart:r,mutateSavedForLaterCart:a})}catch(e){null==i||i(!1)}}),function(t){return e.apply(this,arguments)}),[k,i]),D=(0,s.useCallback)((t=(0,r._)(function*(e){var{itemsToMove:t,primaryCart:n,savedForLaterCart:r,mutatePrimaryCart:a,mutateSavedForLaterCart:o}=e;null==i||i(!0),d(!0);try{yield A({itemsToMove:t,primaryCart:n,savedForLaterCart:r,mutatePrimaryCart:a,mutateSavedForLaterCart:o})}catch(e){null==i||i(!1)}}),function(e){return t.apply(this,arguments)}),[A,i]);return{addToCartViewsProps:(0,s.useMemo)(()=>({addToCartStatus:P,assets:v,eventLabel:C,gridItems:p,isAddToCartDialogActive:l,isPrimary:_,isSizeLimitWarning:j,isSnackBarOpen:c,onAddToCart:E,onAlertSnackbarClose:()=>d(!1),notAddedSelectVideos:x,setIsAddToCartDialogActive:u,pageSection:g,listId:b,snackBarActionAllowed:o}),[v,p,P,C,b,g,l,_,j,c,x,E,o]),addToCartViewsHandler:(0,s.useCallback)(e=>{var{assets:t,eventLabel:n,gridItems:r,isMoveToPrimaryCart:i=!1,isMoveToSavedForLaterCart:a=!1,isPrimaryCart:o=!0,mutatePrimaryCart:s,mutateSavedForLaterCart:l,primaryCart:c,savedForLaterCart:d,withDialog:v=!0,licenseId:p,licensePrice:_,pageSection:g,listId:b}=e;if(m(t),h(o),y(g),I(n),w(b),r&&f(r),i){U({itemsToMove:t,primaryCart:c,mutatePrimaryCart:s,mutateSavedForLaterCart:l});return}if(a){D({itemsToMove:t,primaryCart:c,savedForLaterCart:d,mutatePrimaryCart:s,mutateSavedForLaterCart:l});return}v?u(!0):E({assets:t,eventLabel:n,cart:c,licenseId:p,licensePrice:_,mutateCart:s,pageSection:g})},[E,U,D]),AddToCartViews:T}}},29318:function(e,t,n){n.d(t,{r:function(){return x}});var r=n(81862),i=n(15921),a=n(1284),o=n(34448),s=n(889),l=n(59196),u=n(95786),c=n(42569),d=n(79428),v=n(2784),m=n(52322),p=n(98331),f=n(57460),_=n(2281),h=n(35671),g=n(25237),y=n.n(g),b=y()(()=>Promise.all([n.e(3764),n.e(19307)]).then(n.bind(n,19307)).then(e=>e.CompLicensingDialog),{loadableGenerated:{webpack:()=>[19307]},ssr:!1}),w=e=>{var{isOpen:t}=e,n=(0,_._)(e,["isOpen"]);return(0,h.B)(t)&&(0,m.jsx)(b,(0,f._)({isOpen:t},n))},C=y()(()=>Promise.all([n.e(3764),n.e(20614),n.e(10320),n.e(25353),n.e(9046),n.e(88428),n.e(19392)]).then(n.bind(n,31157)).then(e=>e.CompLicensingDrawer),{loadableGenerated:{webpack:()=>[31157]},ssr:!1}),I=e=>{var{isOpen:t}=e,n=(0,_._)(e,["isOpen"]);return(0,h.B)(t)&&(0,m.jsx)(C,(0,f._)({isOpen:t},n))},S=y()(()=>n.e(95589).then(n.bind(n,23782)).then(e=>e.CompLicensingSnackbar),{loadableGenerated:{webpack:()=>[23782]},ssr:!1}),T=e=>{var{isOpen:t}=e,n=(0,_._)(e,["isOpen"]);return(0,h.B)(t)&&(0,m.jsx)(S,(0,f._)({isOpen:t},n))},A=n(68371),k=function(){var{licensingError:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{t}=(0,d.$G)(i.clK);return{cancel:t("common:actions_cancel"),downloadComp:t("common:actions_download_comp"),enterpriseCompLicense:t("ent:license_enterprise_comp"),genericErrorMessage:t("ent:license_now_error_message"),licensingError:(0,A.j2)({error:e,t}),licenseSuccess:t("ent:confirmation_alert_message"),licenseFormLabels:{buttonLabel:t("common:actions_download_comp"),disclaimer:(0,m.jsx)(d.cC,{i18nKey:"ent:comp_disclaimer",ns:i.clK,components:{bold:(0,m.jsx)("strong",{})}}),addMetadataToAsset:t("ent:add_metadata_to_asset_comp"),metadataFound:t("ent:previous_metadata_found_comp"),metadataMissing:t("ent:previous_metadata_missing_comp"),title:t("ent:add_metadata_to_comp")}}},P=e=>{var{assets:t=null,compLicensingHandler:n,isDialogOpen:r=!1,isDrawerOpen:i=!1,isLicensing:a=!1,isSnackBarOpen:o=!1,licensingError:s=p.FD,onDialogClose:l,onDrawerClose:u,onSnackbarClose:c,selectedAssetSize:d="",setSelectedAssetSize:v,settingsData:f=p.FD}=e,_=k({licensingError:s});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w,{assets:t,isOpen:r,onClose:l,onLicense:n,labels:_,isLicensing:a,selectedAssetSize:d,setSelectedAssetSize:v,settingsData:f}),(0,m.jsx)(I,{assets:t,isLicensing:a,isOpen:i,labels:_,onClose:u,onLicense:n,selectedAssetSize:d}),(0,m.jsx)(T,{isOpen:o,message:_.licensingError,onClose:c})]})},j=n(69599),x=function(){var e,t,{allowMetadata:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[m,p]=(0,v.useState)(null),[f,_]=(0,v.useState)(""),[h,g]=(0,v.useState)(""),[y,b]=(0,v.useState)(!1),[w,C]=(0,v.useState)(!1),[I,S]=(0,v.useState)(!1),{isLicensing:T,licensingError:A,licensingStatus:k,setLicensingStatus:x,licensingAssetsHandler:E}=(0,u.Zo)(),U=(0,s.U)(),{data:D}=(0,c.B)(),R=(0,l.h)(D),F=(0,a.v)(),{t:M}=(0,d.$G)(i.PeY),O=M("file_name_edited"),q=(0,v.useCallback)((e=(0,r._)(function*(e){var{assets:t=[],assetSize:n,eventLabel:r,format:i,metadata:a,pageSection:o,listId:s}=e;_(t[0].id);var l=!1;try{var u=yield(0,j.qP)({assets:t,assetSize:n,format:i,metadata:a,selectedAssetSize:h}),{data:c}=yield E(u);if(!((0,j.bj)(t)&&1===t.length)){var d,v,m=(0,j.aT)(t)?R:void 0,p=(null==F?void 0:null===(d=F.current)||void 0===d?void 0:d.isPeacock)?e=>{var n;return F.current.downloader.resolveUrl(t[0],e,O,null==c?void 0:null===(n=c.meta)||void 0===n?void 0:n.licensedContent)}:void 0;yield(0,j.tX)({assets:t,compSize:m,licensedContent:null==c?void 0:null===(v=c.meta)||void 0===v?void 0:v.licensedContent,downloader:p}),U({assets:t,eventLabel:r,isRedownload:!1,isQuickDownload:!1,isPaid:!1,isComp:!0,pageSection:o,listId:s})}}catch(e){l=e}return _(""),l&&!w&&S(!0),{error:l}}),function(t){return e.apply(this,arguments)}),[w,R,E,U,h,O,F]),L=(0,v.useCallback)((t=(0,r._)(function*(e){var{assets:t,assetSize:r,format:i,eventLabel:a,metadata:s,pageSection:l,listId:u}=e;return(p(t),x(""),!y&&(0,o.U0)(t))?(b(!0),Promise.resolve(null)):!w&&(null==D?void 0:D.requireMetadataForComp)&&!s&&n?(r&&g(r),C(!0),Promise.resolve(null)):q({assets:t,assetSize:r,eventLabel:a,format:i,metadata:s,pageSection:l,listId:u})}),function(e){return t.apply(this,arguments)}),[n,q,y,w,D,x]),z=(0,v.useMemo)(()=>({assets:m,compLicensingHandler:L,compLicensingRequest:q,isDialogOpen:y,isDrawerOpen:w,isLicensing:T,isSnackBarOpen:I,licensingError:A,onDialogClose:()=>b(!1),onDrawerClose:()=>C(!1),onSnackbarClose:()=>S(!1),selectedAssetSize:h,setSelectedAssetSize:g,settingsData:D}),[m,L,q,y,w,T,I,A,h,D]);return{assetsToLicense:m,compLicensingHandler:L,compLicensingProps:z,CompLicensingViews:P,licensingAssetId:f,licensingStatus:k}}},69599:function(e,t,n){n.d(t,{SN:function(){return y},aT:function(){return T},bj:function(){return S},qP:function(){return I},tX:function(){return b}});var r,i,a,o,s=n(81862),l=n(57460),u=n(6692),c=n(49270),d=n(9778),v=n(30095),m=n(34082),p=n(91705),f=n(34953),_=n(2500),h=n(27328),g=n(79756),y=(r=(0,s._)(function*(e){var{assets:t,compSize:n,licensedContent:r,supplementalUrlType:i}=e,{downloadUrl:a,contentId:o,contentFormat:s,contentSize:l,supplementalUrls:u}=r[0]||{};if((null==u?void 0:u.length)&&i){var{url:c=a}=u.find(e=>{var{type:t}=e;return t===i})||{};return c}var v=t.find(e=>{var{id:t}=e;return t===o})||{},m=(0,_.Tp)(v),{filename:f,shouldUpdateFilename:h}=(0,p.G)({assets:t,contentId:o});if(h)try{var{data:y}=yield g.uS.post((0,d.u8)().formattedUrl,{data:[{media_id:v.id,media_type:m,comp_size:n,media_size:l,media_format:s,filename:f}]}),{attributes:b}=(null==y?void 0:y.data[0])||{};return b.url||a}catch(e){}return a}),function(e){return r.apply(this,arguments)}),b=(i=(0,s._)(function*(e){var{assets:t=[],compSize:n,assetSize:r,licensedContent:i=[],downloader:a=h.A_}=e;if(i.length>1){var o=(0,p.r)({assets:t,licensedContent:i}),s=(0,c.e)({urlParams:{filename:o.bundleFilename}}).formattedUrl,{data:l}=yield g.jl.post(s,o.content),{public_url:u}=l;return a(u)}return a((yield y({assets:t,compSize:n,assetSize:r,licensedContent:i})))}),function(e){return i.apply(this,arguments)}),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>{var t=(0,f.Fy)({asset:e});return(0,u._)((0,l._)({},e),{assetType:t,licenseId:m._rW[t]})})},C=(a=(0,s._)(function*(){var{url:e}=(0,d.d0)();try{return(yield g.uS.get(e).then(e=>null==e?void 0:e.data)).reduce((e,t)=>(0,u._)((0,l._)({},e),{[t.name]:"-"}),{})}catch(e){return{}}}),function(){return a.apply(this,arguments)}),I=(o=(0,s._)(function*(){var{assets:e,assetSize:t,format:n,metadata:r,selectedAssetSize:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r;return a||(a=yield C()),{assets:w(e),format:n||"",licenseMetadata:a,licensingType:m.dWU,selectedAssetSize:t||i||"",isVideoComp:!0}}),function(){return o.apply(this,arguments)}),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,f.qw)({asset:e[0]||{}})===v.j0},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[v.pV,v.k4,v.ox].includes((0,f.qw)({asset:e[0]||{}}))}},77680:function(e,t,n){n.d(t,{q:function(){return o}});var r=n(73842),i=n(45839),a=n(49956),o=()=>{var e=(0,a.d)(),t=(0,i.W)(),{openQuickViewCart:n}=(0,r.P)();return{viewCartAction:e?t:n}}},91705:function(e,t,n){n.d(t,{G:function(){return l},r:function(){return u}});var r=n(2500),i=n(94749),a="shutterstock",o="shutterstock_editorial",s=e=>{var{asset:t}=e;return(0,r.PD)(t)?{prefix:"shutterstock_offset",shouldUpdateFilename:!0}:(0,r.tS)({asset:t})?{prefix:o,shouldUpdateFilename:!1}:{prefix:a,shouldUpdateFilename:!1}},l=e=>{var{assets:t,contentId:n}=e,{prefix:r,shouldUpdateFilename:i}=s({asset:t.find(e=>{var{id:t}=e;return t===n})||{}});return{filename:"".concat(r,"_").concat(n),shouldUpdateFilename:i}},u=e=>{var{assets:t=[],licensedContent:n=[]}=e,s=t.every(e=>(0,r.tS)({asset:e})),u=n.map(e=>{var{contentId:n,downloadUrl:r,contentFormat:i}=e,{filename:a}=l({assets:t,contentId:n}),o=r.split("/").pop().split(".").pop();return(o.length>4||o.length<2)&&(o=i),{filename:"".concat(a,".").concat(o),url:r}}),c=(0,i.zs)();return{bundleFilename:"".concat(s?o:a,"_").concat(c,".zip"),content:u}}},131:function(e,t,n){n.d(t,{$6:function(){return g},GA:function(){return m},Hg:function(){return d},Jj:function(){return b},KK:function(){return p},P1:function(){return S},Tw:function(){return y},c:function(){return I},tU:function(){return v}});var r=n(57460),i=n(6692),a=n(30095),o=n(17527),s=n(47129),l=n(11341),u=n(68371),c=n(2500),d=e=>{var{licenseName:t,cartData:n,asset:r}=e;return t?!!(null==n?void 0:n.items.find(e=>e.id===(null==r?void 0:r.id)&&e.licenseId===t)):!!(null==n?void 0:n.items.find(e=>e.id===(null==r?void 0:r.id)))},v=e=>{var{asset:t,unavailableAssets:n}=e;return!n.find(e=>e.contentId===(0,c.OP)({asset:t})&&e.contentType===t.type)},m=function(){var{errors:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.some(e=>s.Gu.includes(e))},p=e=>{var{cachedCart:t,newItems:n}=e,a=[...(null==t?void 0:t.items)||[],...n];return(0,i._)((0,r._)({},t),{items:a,count:a.length})},f=e=>{var{item:t,licensedAssets:n}=e;return(null==n?void 0:n.find(e=>{var{contentId:n}=e;return n===String(t.id)}))?0:t.isUnlimited?.1:parseFloat(t.price)},_=e=>{var{item1:t={},item2:n={},sortOrder:r,licensedAssets:i}=e,a=f({item:t,licensedAssets:i}),o=f({item:n,licensedAssets:i});return r===l.sl?a-o:o-a},h=e=>{var{item1:t,item2:n,sortField:r="addedTime",sortOrder:i}=e;return i===l.sl?Number(new Date(n[r]))-Number(new Date(t[r])):Number(new Date(t[r]))-Number(new Date(n[r]))},g=e=>{var{primaryCart:t,sortField:n,sortOrder:r,alreadyLicensedPrimaryAssets:i}=e;return t.sort((e,t)=>n===o.TK.ADDED_TIME?h({item1:e,item2:t,sortField:n,sortOrder:r}):_({item1:e,item2:t,sortField:n,sortOrder:r,licensedAssets:i}))},y=e=>{var t,{rolodexAddress:n}=e,[r,i]=(null===(t=n.streetLines)||void 0===t?void 0:t.split("\n"))||[],{locality:a,postalCode:o,region:s,country:l,company:u}=n;return{country:l,company:u,city:a,zip:o,state:s,address1:r,address2:i}},b=e=>{var t,{billingEntity:n}=e;return(null==n?void 0:null===(t=n.rolodexAddresses)||void 0===t?void 0:t.find(e=>{var t;return"licensing"===e.addressType||(null===(t=e.usages)||void 0===t?void 0:t.includes("licensing"))}))||{}},w=e=>{var{asset:t,alreadyLicensedAssets:n}=e;return(null==t?void 0:t.price)===a.q9||(0,u.te)({alreadyLicensedAssets:n,asset:t})},C=e=>{var{acc:t,asset:n,alreadyLicensedAssets:r}=e;return w({asset:n,alreadyLicensedAssets:r})?t:t+parseFloat(null==n?void 0:n.price)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter(e=>{var{isUnavailableAsset:t}=e;return!t}).reduce((e,n)=>C({acc:e,asset:n,alreadyLicensedAssets:t}),0):0},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every(e=>{var{price:t}=e;return t===a.q9})?a.q9:I(e,t)}},68371:function(e,t,n){n.d(t,{Ax:function(){return y},H8:function(){return m},NV:function(){return v},Tp:function(){return b},aW:function(){return w},iI:function(){return _},j2:function(){return h},lW:function(){return g},te:function(){return p},uP:function(){return d}});var r=n(57460),i=n(6692),a=n(31879),o=n(30095),s=n(99319),l=n(34082),u=n(2500),c=n(34953),d=e=>{var t,n,{license:r,existingAssetsLicenses:i}=e;if(!i)return!((null==r?void 0:r.licenseName)&&l.b53.includes(null==r?void 0:r.licenseName))&&i;var a=(0,c.Fy)({asset:r.mediaItem});return!!(null==i?void 0:null===(t=i[null===(n=r.mediaItem)||void 0===n?void 0:n.id])||void 0===t?void 0:t.some(e=>e!==l._rW[a]))},v=e=>{var{subscriptions:t=[]}=e;return t.some(e=>{var{redeemableFor:t}=e;return l.SkX.some(e=>e===t)})?l.s5m:l.Hv9},m=e=>e.reduce((e,t)=>{var n=t.licenseId;return e.includes(n)||e.push(n),e},[]),p=e=>{var{alreadyLicensedAssets:t,asset:n}=e;return!!t.find(e=>{var{contentId:t,contentType:r,licenseId:i}=e,a=n.type===o.k4?o.pV:n.type;return t===n.id&&r===a&&i===n.licenseId})},f=e=>{var{licenseType:t,existingLicenses:n,asset:r,isSelect:i=!1}=e,a=["footage_".concat(t,"_sd"),"footage_".concat(t,"_hd")],o=[...a,"footage_".concat(t,"_lowres")];return(i&&a.push("footage_".concat(t,"_4k")),r.licenseId==="footage_".concat(t,"_sd"))?null==n?void 0:n.some(e=>!!a.includes(e)):r.licenseId==="footage_".concat(t,"_lowres")&&(null==n?void 0:n.some(e=>!!o.includes(e)))},_=e=>{var t,{existingLicenses:n,asset:r}=e;switch(r.type){case o.FM:case o.pX:if(l.oPg.some(e=>f({asset:r,licenseType:e,existingLicenses:n})))return!0;return!!(null==n?void 0:n.includes(r.licenseId));case o.k4:default:return!!(null==n?void 0:n.includes(null===(t=r.licenseId)||void 0===t?void 0:t.replace(/_unlimited/,"")))}},h=e=>{var{error:t={},t:n}=e,{meta:r={}}=t;if((null==r?void 0:r.exception_type)===l.JW1){var{value:i}=r.errors.slice(-1).pop(),a="comp_limit"===i.name;return n("P1M"===i.period_length?a?"ent:monthly_comp_limit_reached":"ent:monthly_licensing_limit_reached":a?"ent:daily_comp_limit_reached":"ent:daily_licensing_limit_reached")}return n("ent:license_now_error_message")},g=e=>{var{error:t={},user:n={}}=e,{detail:r,headers:i={},message:a,meta:o={},name:u,source:c={},title:d}=t,{id:v,username:m,organizationId:p}=n||{},f=null==o?void 0:o.exception_type,_=(null==c?void 0:null===(h=c.request)||void 0===h?void 0:h.id)||(null==i?void 0:i[s.cp]);switch(f){case l.JW1:var h,g,y,b=null===(y=o.errors)||void 0===y?void 0:y.map(e=>{var{value:t}=e;return null==t?void 0:t.name});g="".concat(d,": ").concat(b.join(","));break;case l.vFJ:var w,C=null===(w=o.errors)||void 0===w?void 0:w.map(e=>{var{code:t,value:n}=e;return"".concat(t,": ").concat(null==n?void 0:n.content_type," - ").concat(null==n?void 0:n.content_id," - ").concat(null==n?void 0:n.content_size)});g="".concat(d,": ").concat(C.join(","));break;default:g=[f,d,r,a,u].reduce((e,t)=>t&&!e.includes(t)?[...e,t]:e,[]).join(", ")}return{organizationId:p,userId:v,username:m,errorSummary:g,error:t,requestId:_}},y=e=>{var{organizationId:t}=e;return"organization-".concat(t)},b=e=>{var{isEligibilityLoading:t,existingCurrentAssetLiceses:n}=e;return t?void 0:n||[]},w=e=>{var{asset:t,selectedLicenseId:n,activeFormatType:o,selectedShadowsOption:s}=e;return(0,r._)((0,i._)((0,r._)({},t),{itemType:t.itemType||(0,c.rw)({asset:t}),licenseId:n}),o===a._3&&{licenseAsJpeg:!0},(0,u.f8)(t)?{selectedFormatType:o,selectedShadowsOption:s}:{})}},546:function(e,t,n){n.d(t,{H:function(){return i}});var r=n(30645),i=e=>{var t,{user:n}=e;return null==n?void 0:null===(t=n.roles)||void 0===t?void 0:t.includes(r.qy)}},18403:function(e,t,n){n.d(t,{n:function(){return u}});var r=n(48394),i=n(96186),a=n(2622),o=n(82238),s=n(50071),l=e=>{var{acc:t,totalCostOfItems:n,amountRemaining:i,totalAmount:a,bypassLowBalance:o=!1}=e;return o||(n>i&&(t.hasInsufficientSubscriptionCredits=!0,t.hasLowDebitableBalance=!1,t.insufficientAmount=n-i),!t.hasInsufficientSubscriptionCredits&&i<=a*r.cG&&(t.hasLowDebitableBalance=!0)),t},u=e=>{var{items:t,subscriptions:n,subscription:u,hasWrapperSubscription:c=!0}=e;if(t&&t.length){var d={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:r.Zm};return t.reduce((e,t)=>{var d,{licenseId:v,price:m}=t,p=(0,a.q)({assets:[t]}),f=u||(0,s.$)({subscriptions:null===(d=(0,o.A)({assetType:p,subscriptions:n}))||void 0===d?void 0:d.subscriptions,licenseName:v,assetType:p})||{},{totalAmount:_,amountRemaining:h,amountType:g,amount:y}=(0,i.Vp)(f);e.amountType=g;var b=parseFloat(m),w=parseFloat(e.total)+b;if(e.total+=b,g===r.vh){var C=parseFloat(y),I=parseFloat(e.totalCreditAmount)+C;return e.totalCreditAmount+=C,l({acc:e,totalCostOfItems:I,amountRemaining:h,totalAmount:_,bypassLowBalance:!c})}return l({acc:e,totalCostOfItems:w,amountRemaining:h,totalAmount:_,bypassLowBalance:!c})},d)}var v=n||{},m=Object.keys(v).find(e=>Array.isArray(v[e])&&v[e].length),p=m&&(0,i.bC)({subscriptions:v[m]||[]})[0]||{},{totalAmount:f,amountRemaining:_,amountType:h}=(0,i.Vp)(p);return{amountType:h,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:_<=f*r.cG,insufficientAmount:null}}},25084:function(e,t,n){n.d(t,{k:function(){return s}});var r=n(48394),i=n(96186),a=n(5567),o=n(18403),s=e=>{var t,{items:n,isLoading:s,subscription:l,subscriptions:u,userCapabilities:c}=e;return s?{}:(l&&(t=l.creditType),u&&u.length>0&&(t=u[0].creditType),(0,i.Kc)({userCapabilities:c})?(0,o.n)({items:n,subscription:l,subscriptions:u,hasWrapperSubscription:(0,i.zF)({userCapabilities:c})}):{amountType:t||r.Zm,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:l&&0===(0,a.I)({subscription:l}),insufficientAmount:null})}},77295:function(e,t,n){n.d(t,{U:function(){return o}});var r=n(48394),i=n(2500),a=n(68274),o=e=>{var{uniqueSubscription:t}=e;if(!t)return{};var{priceAsAbsolute:n,creditCurrency:o,product:s}=t,l=(0,a.q)({subscription:t}),u=null!=o?o:null==s?void 0:s.currency;if(!n){var{creditPrice:c,creditType:d=r.Zm}=t;return{price:"".concat((0,i.lO)({price:c,isUnlimited:l})),priceType:d,currency:u}}var{price:v,priceType:m}=n;return{price:"".concat((0,i.lO)({price:v,isUnlimited:l})),priceType:m,currency:u}}},80229:function(e,t,n){n.d(t,{K:function(){return c}});var r=n(57460),i=n(6692),a=n(30095),o=n(30097),s=n(44335),l=n(2370),u=n(2784),c=()=>{var{analytics:e}=(0,l.yh)(),{getSearchContext:t}=(0,s.Y)(),n=(0,u.useCallback)(t=>{var{cartId:n,items:r}=t,i=(r||[]).map((e,t)=>(0,o.zm)({asset:e,cartId:n,index:t})),a=i.reduce((e,t)=>({totalPrice:e.totalPrice+Number(t.price),toBeBilled:e.toBeBilled+1}),{totalPrice:0,toBeBilled:0});e.cartViewed({products:i,cartId:n,cartTotal:Math.round(100*a.totalPrice)/100,numItemsBilledToCard:a.toBeBilled,shouldCheckout:a.totalPrice>0,shouldDownload:i.length>0&&0===a.totalPrice})},[e]);return{productAddedAnalyticsEvent:(0,u.useCallback)(n=>{var{cart:r,eventLabel:i,gridItems:a,items:s,licenseId:l,licensePrice:u,listId:c,pageSection:d}=n;e.productAdded({products:s.map(e=>(0,o.bR)({asset:e,cartData:r,getSearchContext:t,gridItems:a,licenseId:l,licensePrice:u,pageSection:d})),eventLabel:i,list_id:null!=c?c:""})},[e,t]),productRemovedAnalyticsEvent:(0,u.useCallback)(n=>{var{cart:s,eventLabel:l,gridItems:u,items:c,listId:d,matchingCartItem:v,pageSection:m}=n;if(v){var[p]=c;e.productRemoved((0,i._)((0,r._)({},(0,o.bR)({asset:p,cartData:s,getSearchContext:t,gridItems:u,pageSection:m})),{price:v.price===a.q9?0:Number(v.price),variant:v.licenseId,eventLabel:l,list_id:null!=d?d:""}))}else e.productRemoved({products:c.map(e=>(0,o.bR)({asset:e,cartData:s,getSearchContext:t,gridItems:u,pageSection:m})),eventLabel:l,list_id:null!=d?d:""})},[e,t]),cartViewedAnalyticsEvent:n}}},29075:function(e,t,n){n.d(t,{y:function(){return h}});var r,i=n(81862),a=n(57460),o=n(6692),s=n(29012),l=n(93883),u=n(25421),c=n(3383),d=n(18034),v=n(28263),m=n(89906),p=(r=(0,i._)(function*(e){var{items:t,trackingId:n}=e;0!==t.length&&(yield(0,m.t)("/message-gateway/ip-review",(0,o._)((0,a._)({method:"POST",requireAuth:!0},(0,v.S)({trackingId:n})),{body:{media:t.map(e=>({mediaId:e}))}})))}),function(e){return r.apply(this,arguments)}),f=n(14010),_=n(2784),h=function(){var e,{trackingId:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,d.H)("/"),{isBrandEnterprise:r}=(0,c.D)(),v=(0,f.NL)();return{queueIpReview:(0,_.useCallback)((e=(0,i._)(function*(e){if(r){var i,c,d=e.reduce((e,t)=>(0,l.k7)(t)?[...e,String(t.id)]:e,[]);if(d.length){var m=(yield v.fetchQuery({queryKey:(0,u.Ol)({assetIds:d}),queryFn:e=>{var{queryKey:t}=e;return(0,u.iP)(n,t)}})).reduce((e,t)=>(null==t?void 0:t.isIpReviewed)===!1&&(null==t?void 0:t.ipReviewStatus)!==s.hA?[...e,t]:e,[]);try{if(m.length){yield p({items:m.map(e=>null==e?void 0:e.classicId),trackingId:t});var f=m.map(e=>(v.setQueryData(null==e?void 0:e.queryKey,[(0,o._)((0,a._)({},e),{isIpReview:!1,ipReviewStatus:s.hA})]),v.invalidateQueries({queryKey:null==e?void 0:e.queryKey,predicate:t=>{var{queryKey:n}=t;return n===(null==e?void 0:e.queryKey)}})));yield Promise.all(f)}}catch(e){null===(c=window.NREUM)||void 0===c||null===(i=c.noticeError)||void 0===i||i.call(c,e,{message:"Error adding assets to queue for IP review: ".concat(m.map(e=>null==e?void 0:e.classicId).join(", "),"\ntrackingId: ").concat(t)})}}}}),function(t){return e.apply(this,arguments)}),[n,r,t,v])}}},59196:function(e,t,n){n.d(t,{h:function(){return a}});var r=n(546),i=n(46814),a=e=>{var{data:t}=(0,i.jy)();return(0,r.H)({user:t})?null==e?void 0:e.compSizeImage:null==e?void 0:e.compSizeSubImage}},95786:function(e,t,n){n.d(t,{Zo:function(){return es}});var r=n(81862),i=n(57460),a=n(6692),o=n(9778),s=n(1150),l=n(30095),u=n(52078),c=n(99319),d=n(34082),v=n(48394),m=n(38170),p=n(30097),f=n(43677),_=n(34953),h=n(68371),g=n(19448),y=n(28263),b=n(73637),w=n(68274),C=n(74114),I=n(50071),S=n(44335),T=n(2370),A=n(2784),k=()=>{var{analytics:e}=(0,T.yh)(),{getSearchContext:t}=(0,S.Y)();return(0,A.useCallback)(n=>{var{assets:r=[]}=n,i=t(r[0]);e.productLicensed({products:r.map(e=>(0,p.bR)({asset:e,shouldGetSearchContextFromAsset:!0})),search_context:i})},[e,t])},P=n(59636),j=n(3383),x=n(2500),E=n(79756),U=e=>{var t,{assets:n}=e,r=(0,x.Tp)(n[0]);return{include:"subscriptions",content_type:(0,_.JD)({assetType:r,assetId:null===(t=n[0])||void 0===t?void 0:t.id}),content_ids:n.reduce((e,t)=>[...e,t.id.toString()],[]).join(",")}},D=e=>{var{assets:t}=e,n={};return t.forEach(e=>{var t=(0,x.Tp)(e),r=(0,_.JD)({assetId:e.id,assetType:t});n[r]=[...n[r]?n[r]:[],e]}),n},R=e=>{var{assetEligibility:t}=e,{permittedLicenses:n,subscriptions:r}=t;return null==r?void 0:r.filter(e=>{var{license:t}=e;return n.includes(t.replace("_unlimited",""))})},F=e=>{var t,{assets:n=[],user:r}=e;return null===(t=Object.values(D({assets:n})))||void 0===t?void 0:t.map(e=>{var t=U({assets:e}),{formattedUrl:n}=(0,o.Td)({urlParams:{licenseeIdentifier:"organization-".concat(null==r?void 0:r.organizationId)},queryParams:t});return E.uS.get(n)})},M=e=>{var{data:t}=e,n=[];return t.map(e=>{var t=e.id.split("-"),r=t[t.length-1],i=R({assetEligibility:e});return n.push({assetId:r,subscriptions:i})}),n},O=n(46814),q=n(13970),L=n(64528),z=n(11478),N=n(40824),B=n(15921),G=n(75411),V=n(19059),K=n(98408),W=n(131),H=n(42569),J=n(82097),Z=n(72242),Y=n(63031),$=n(79428),X=new RegExp(K.C),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emailCartCheckoutConfirmation:t,orderEmail:n}=e;return t&&n?n.split(",").filter(e=>X.test(e)):[]},ee=e=>{var{purchaseOrder:t}=e;return"".concat(null==t?void 0:t[0]," : ").concat(null==t?void 0:t[1]).split(" ").map(e=>(0,Y.k)(e)).join(" ")},et=e=>{var{t,keys:{currentYear:n,emailAddress:r,purchaseOrder:i}}=e;return{copyright:t("site-footer:copyright",{CURRENT_YEAR:n}),emailSentTo:t("ent:email_sent_to",{EMAIL_ADDRESS:r}),emailSubjectLine:"".concat(t("ent:order_confirmation_email_subject")," | ").concat(ee({purchaseOrder:i})),name:t("account:profile_name"),needAssistance:t("ent:contact_sales_representative"),orderConfirmation:t("ent:order_confirmation"),purchaseInformation:t("ent:purchase_information_key"),shutterstockAddress:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l2"),shutterstockInc:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l1"),subtotal:t("ent:order_confirmation_email_subtotal"),thisIsNotAnInvoice:t("ent:not_an_invoice")}},en=()=>{var{t:e}=(0,$.$G)(B.jp5),{data:t}=(0,O.jy)(),{data:n}=(0,J.b)(),{data:r}=(0,H.B)(),{name:i,email:a,phone:o}=(0,Z.z)({fetchTrigger:!0})||{},{locale:s,fullLocale:l}=(0,m.PE)(),u=(0,P.o)();return{sendOrderConfirmationEmails:(0,A.useCallback)(function(){var{cartTotalCurrency:c,filteredOrderMetadata:d,licenseMetadata:v,priceType:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=[...(null==n?void 0:n.emailCartCheckoutConfirmation)?[null==t?void 0:t.email]:[],...Q(r)];if(p.length&&(null==d?void 0:d.length)){var f,_,h,g,y=et({t:e,keys:{currentYear:new Date().getFullYear(),emailAddress:null==t?void 0:t.email,purchaseOrder:Object.entries(v)[0],repName:i,repPhoneNumber:o,repEmail:a}});try{var b={cartItems:d,fullName:null==t?void 0:t.fullName,invoiceDate:new Intl.DateTimeFormat(l).format(new Date),labels:y,licenseMetadata:v,repEmail:a,repName:i,repPhoneNumber:o,totalAmount:u({price:(0,W.P1)(d,[]),localeCurrencyOverride:c,priceType:m}),username:null==t?void 0:t.username};E.IZ.post((0,G.K0)().formattedUrl,{emails:[...new Set(p)],emailBody:b,emailSubject:"".concat(y.emailSubjectLine),language:s})}catch(e){null===(_=window.NREUM)||void 0===_||null===(f=_.setTransactionName)||void 0===f||f.call(_,"sendOrderConfirmationEmail/".concat(V.mI)),null===(g=window.NREUM)||void 0===g||null===(h=g.noticeError)||void 0===h||h.call(g,e,{message:"Failed sending order confirmation emails to: ".concat(p.join(", "))})}}},[l,s,r,u,a,i,o,e,null==t?void 0:t.email,null==t?void 0:t.fullName,null==t?void 0:t.username,null==n?void 0:n.emailCartCheckoutConfirmation])}},er=n(51988),ei={[d.dWU]:o.CE,[d.zM6]:o.s0},ea=e=>{var t,n,{asset:r,subscriptions:i}=e,a=(0,_.qw)({asset:r}),{licenseId:o,contentTier:s}=r;switch(a){case l.pX:return(0,C.I)({assetType:l.pX,subscriptions:[...null!==(t=null==i?void 0:i.videoSubscriptions)&&void 0!==t?t:[],...null!==(n=null==i?void 0:i.videoCompSubscriptions)&&void 0!==n?n:[]],selectedLicenseId:o});case l.xF:case l.j0:return(0,I.$)({subscriptions:[...i.musicSubscriptions,...i.musicCompSubscriptions],licenseName:r.licenseId});case l.tn:return(0,I.$)({subscriptions:[...i.sfxSubscriptions,...i.sfxCompSubscriptions],licenseName:r.licenseId});case l.gP:return(0,I.$)({subscriptions:[...i.editorialImageSubscriptions,...i.editorialImageCompSubscriptions,...i.editorialVideoSubscriptions,...i.editorialVideoCompSubscriptions],licenseName:r.licenseId,contentTier:s});case l.k4:default:return(0,I.$)({subscriptions:[...i.imageSubscriptions,...i.imageCompSubscriptions],licenseName:r.licenseId,contentTier:s})}},eo=e=>{var{asset:t,subscriptions:n}=e,r=ea({asset:t,subscriptions:n});return(0,w.q)({subscription:r})?(0,a._)((0,i._)({},r),{creditPrice:l.q9,creditType:v.Zm}):r},es=()=>{var e,{isBrandEnterprise:t}=(0,j.D)(),{data:n}=(0,q.av)(),[o,v]=(0,A.useState)(!1),[w,I]=(0,A.useState)(""),[S,x]=(0,A.useState)({}),{data:U}=(0,O.jy)(),[,D]=(0,z.VM)(e=>e),R=(0,T.uA)(),{analytics:B}=(0,T.yh)(),G=(0,p.UM)(B),V=(0,b.y)(G),K=R||(0,N.CU)(),W=k(),H=(0,P.o)(),J=(0,er.GB)(),{locale:Z}=(0,m.PE)(),{sendOrderConfirmationEmails:Y}=en();return{isLicensing:o,licensingAssetsHandler:(0,A.useCallback)((e=(0,r._)(function*(e){var{alreadyLicensedAssets:o=[],assets:m=[],cartMetadata:p={},format:b="",licenseeMetadata:w={},isVideoComp:S=!1,licenseMetadata:T={},licensingType:A,selectedAssetSize:k=""}=e,P=(j=(0,r._)(function*(){var e,o=M({data:(yield Promise.all(F({assets:m,user:U}))).map(e=>{var{data:t}=e;return(0,L.O)(t)}).flat()}),s=m.map((e=(0,r._)(function*(e){var t=(0,_.qw)({asset:e}),{licenseId:n}=e,{subscriptions:r}=(null==o?void 0:o.find(t=>{var{assetId:n}=t;return n===String(e.id)}))||{},{id:s,license:c}=(0,C.I)({assetType:t,subscriptions:r,selectedLicenseId:n})||{},d=yield(0,f.Oo)({asset:e,format:b,selectedAssetSize:k,licenseName:c,isVideoComp:S});return(0,a._)((0,i._)({},d,k&&g.Bg[k]&&{comp_size:k},t===l.tn&&{override_filename:"".concat(u.Oq,"_").concat(e.id,".").concat(b||d.content_format)},t===l.w5&&{content_provider:l._R}),{license_name:c,show_modal:!0,subscription_id:s})}),function(t){return e.apply(this,arguments)}));return{licensingPayload:{content:yield Promise.all(s),license_metadata:T,required_cookies:"",decode_hadron_ids:t},orderMetadata:m.map(e=>{var{currency:t,description:r,descriptionLanguageMap:i={},id:a,itemType:o,headline:s,licenseId:l,preview:u={},price:c,priceType:d,src:v,thumb:m,thumbImageUrl:p,title:f,type:_}=e,h=t,g=c,y=d;if(!h||!g||!y){var{creditCurrency:b,creditPrice:w,creditType:C}=eo({asset:e,subscriptions:n});h=h||b,g=g||w,y=d||C}return h&&!R&&(R=h),y&&!O&&(O=y),{description:i[Z]||r,formattedPrice:H({price:g,localeCurrencyOverride:h,priceType:y}),headline:s,id:a,itemType:o,licenseId:l,licenseName:J({licenseName:l}),price:g,priceType:y,thumbnailSrc:v||p||u.url||m,title:f,type:_}})}}),function(){return j.apply(this,arguments)});try{v(!0),I("");var j,R,O,q,z,{licensingPayload:N,orderMetadata:B}=yield P(),G=ei[A]({urlParams:{licenseeIdentifier:"organization-".concat(null==U?void 0:U.organizationId)}}).formattedUrl,$=yield E.uS.post(G,N,(0,y.S)((0,i._)({trackingId:K},V?{headers:{[c.as]:V}}:{})));if(W({assets:m}),D({assets:m,metadata:p,licensedContent:(null===(z=(0,L.O)($.data))||void 0===z?void 0:null===(q=z.meta)||void 0===q?void 0:q.licensedContent)||[]}),!m.some(e=>{var{licenseId:t}=e;return d.b53.includes(t)})){var X=B.filter(e=>!(0,h.te)({alreadyLicensedAssets:o,asset:e}));Y({cartTotalCurrency:R,filteredOrderMetadata:X,licenseMetadata:w,priceType:O})}return I(s.MR),$}catch(e){var Q,ee,et=(0,h.lW)({error:e,user:U});throw null===(ee=window.NREUM)||void 0===ee||null===(Q=ee.addPageAction)||void 0===Q||Q.call(ee,"Enterprise licensing error",(0,a._)((0,i._)({},et),{alreadyLicensedAssets:o,assets:m.map(e=>{var{id:t,type:n}=e;return{id:t,type:n}}),cartMetadata:p,format:b,licenseeMetadata:w,isVideoComp:S,licenseMetadata:T,licensingType:A,selectedAssetSize:k})),x(e),I(s.cM),e}finally{v(!1)}}),function(t){return e.apply(this,arguments)}),[U,t,Z,H,J,n,K,W,D,Y,V]),licensingError:S,licensingStatus:w,setIsLicensing:v,setLicensingStatus:I}}},51988:function(e,t,n){n.d(t,{GB:function(){return l}});var r=n(15921),i=n(3383),a=n(79428),o=n(2784),s="ent:license_",l=()=>{var{t:e}=(0,a.$G)(r.PRh),{isBrandSstk:t}=(0,i.D)();return(0,o.useCallback)(function(){var n,r,i,{licenseName:a,subscription:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(a&&(n="".concat(s).concat(null==a?void 0:a.replace(/_unlimited/,""))),o&&(t&&(n="".concat("ecomm:license_").concat(null===(r=o.product)||void 0===r?void 0:r.name)),!t&&o.redeemableFor&&(n="".concat(s).concat(null===(i=o.redeemableFor)||void 0===i?void 0:i.replace(/_unlimited/,"")))),n)?e(n):""},[t,e])}},45839:function(e,t,n){n.d(t,{W:function(){return u}});var r=n(57460),i=n(6692),a=n(3383),o=n(5632),s=n(2784),l=n(2393),u=()=>{var e=(0,l.k)(),{isBrandSstk:t}=(0,a.D)(),n=(0,o.useRouter)();return(0,s.useCallback)(()=>{if(t){var a,o;null===(o=window.NREUM)||void 0===o||null===(a=o.addPageAction)||void 0===a||a.call(o,"UP3-1623 assign useCartRedirect cartHref to href",(0,i._)((0,r._)({},window.location||{}),{cartHref:e,isBrandSstk:t})),window.location.href=e}else n.push(e)},[e,t,n])}},67461:function(e,t,n){n.d(t,{D9:function(){return G},GH:function(){return K},Z4:function(){return H},gV:function(){return W},kC:function(){return V}});var r=n(81862),i=n(57460),a=n(6692),o=n(2281),s=n(25857),l=n(1150),u=n(31879),c=n(63002),d=n(30095),v=n(17527),m=n(29599),p=n(90289),f=n(48394),_=n(30097),h=n(43677),g=n(34953),y=n(2500),b=n(40787),w=n(96186),C=n(41503),I=n(68274),S=n(25084),T=n(50071),A=n(77295),k=n(81437),P=n(29075),j=n(13970),x=n(91787),E=n(79756),U=n(5632),D=n(2784),R=n(3255),F=n(80229),M=n(44335),O=n(46814),q="Size limit warning",L=e=>{var t,{item:n,subscriptions:r}=e,{itemType:i,metadata:a}=n,o=(0,y.Qo)({asset:n}),s=null==a?void 0:null===(t=a.cart)||void 0===t?void 0:t.licenseId,{allSubscriptions:l}=r;switch(i){case d.pX:return(0,k.I)({licenseName:s,subscriptions:l});case d.j0:case d.tn:case d.k4:default:return(0,T.$)({licenseName:s,subscriptions:l,assetType:i,contentTier:o})}},z=e=>{var t,n,{item:r}=e;return(null===(t=r.largeThumb)||void 0===t?void 0:t.url)||(null===(n=r.preview)||void 0===n?void 0:n.url)||r.preview||r.thumb||""},N=e=>{var t,{asset:n}=e;return n.itemType===d.k4&&!n.sizes&&!(null===(t=n.metadata)||void 0===t?void 0:t.cart.sizes)},B=e=>{var t,n,{item:r}=e,o=(0,y.EK)(r);if(r.itemType===d.w5){var s,l,u,v,m,p,f,_,h,g,w,C=null==r?void 0:null===(_=r.product)||void 0===_?void 0:null===(f=_.productPreviews[0])||void 0===f?void 0:null===(p=f.previewThumbnailImages)||void 0===p?void 0:p.find(e=>{var{resolution:t}=e;return"res600x600"===t}),I={[c.RA]:{height:600,width:600,src:"https://".concat(null==C?void 0:null===(h=C.assetFile)||void 0===h?void 0:h.s3Path)}};return{[c.RA]:{height:600,width:600,src:(0,b.VC)((0,a._)((0,i._)({},r),{angle:null==r?void 0:null===(w=r.metadata)||void 0===w?void 0:null===(g=w.cart)||void 0===g?void 0:g.angle,displays:I}))}}}return o?{[c.bm]:{height:r.height||(null===(t=r.preview)||void 0===t?void 0:t.height),width:r.width||(null===(n=r.preview)||void 0===n?void 0:n.width),src:r.preview||r.thumb}}:{[c.RA]:{height:(null===(s=r.largeThumb)||void 0===s?void 0:s.height)||(null===(l=r.preview)||void 0===l?void 0:l.height),width:(null===(u=r.largeThumb)||void 0===u?void 0:u.width)||(null===(v=r.preview)||void 0===v?void 0:v.width),src:null===(m=r.preview)||void 0===m?void 0:m.url}}},G=e=>{var{cartItems:t=[],subscriptions:n}=e;return t.filter(e=>[d.k4,d.w5,d.pX,d.j0,d.tn,d.gP,d.cF].includes(e.itemType)).map(e=>{var t,r,o,s,l,u,v,m,h,g,y,b,w,S=L({item:e,subscriptions:n}),T=B({item:e}),k=z({item:e}).replace("-150nw","-260nw"),{price:P=0,priceType:j=f.Zm}=(0,A.U)({uniqueSubscription:S}),x=k||(null==T?void 0:null===(t=T[c.RA])||void 0===t?void 0:t.src),E=null===(r=e.assets)||void 0===r?void 0:r.find(e=>{var{assetClass:t}=e;return t===p.TT}),U=[d.w5,d.k4].includes(e.itemType)&&!e.src,D=null===(o=e.meta)||void 0===o?void 0:o.search_context;return(null===(l=e.metadata)||void 0===l?void 0:null===(s=l.cart)||void 0===s?void 0:s.searchContext)&&(D=(0,_.Be)({trackingId:null===(g=e.metadata)||void 0===g?void 0:null===(h=g.cart)||void 0===h?void 0:null===(m=h.searchContext)||void 0===m?void 0:m.searchTrackingId,searchTerm:null===(w=e.metadata)||void 0===w?void 0:null===(b=w.cart)||void 0===b?void 0:null===(y=b.searchContext)||void 0===y?void 0:y.searchTerm})),(0,i._)((0,a._)((0,i._)((0,a._)((0,i._)({},e),{id:e.itemId}),[d.k4,d.w5,d.gP,d.cF].some(t=>t===e.itemType)&&{image:{id:e.itemId,categories:e.categories,description:e.description||e.subhead||"",url:x,isEditorial:!!e.isEditorial,isPremium:!!e.isPremium,displays:T,permalink:e.permalink,isIllustration:e.isIllustration,isVector:e.isVector}}),{type:e.itemType,isFootageSelect:e.footageSelect,price:P,priceType:j,waveformPng:e.waveformPng||(null==E?void 0:E.externalUrl),currency:(null==S?void 0:S.creditCurrency)||"",licenseId:(null===(v=e.metadata)||void 0===v?void 0:null===(u=v.cart)||void 0===u?void 0:u.licenseId)||"",subscriptionId:(null==S?void 0:S.id)||"-",hasCreditsRemaining:(0,C.r)({subscription:S}),isPixelSquid:e.itemType===d.w5,isUnavailableAsset:N({asset:e}),isUnlimited:(0,I.q)({subscription:S}),isUnavailableSubscription:!S,meta:(0,i._)({},D?{search_context:D}:{})}),U&&{src:x})})},V=e=>{var{isPrimary:t}=e;return(0,s.dv)({urlParams:{isPrimary:t}}).formattedUrl},K=e=>{var{isPrimary:t}=e,n=(0,O.B)(),{data:r}=(0,j.av)();return(0,R.ZP)(n&&r?V({isPrimary:t}):null,e=>E.jm.get(e).then(e=>{var{data:t}=e;return t&&(0,a._)((0,i._)({},t),{items:G({cartItems:t.items,subscriptions:r})})}))},W=()=>{var e,t,n,o,c,p,{mutate:f}=(0,R.kY)(),[_,y]=(0,D.useState)({status:"",error:void 0}),[b,w]=(0,D.useState)(!1),C=(0,D.useRef)(!1),{productAddedAnalyticsEvent:I,cartViewedAnalyticsEvent:S,productRemovedAnalyticsEvent:T}=(0,F.K)(),{getSearchContext:A}=(0,M.Y)(),k=(0,U.useRouter)(),{queueIpReview:j}=(0,P.y)({trackingId:null===(p=A())||void 0===p?void 0:p.search_tracking_id}),x=(0,D.useCallback)(e=>{void 0===(null==e?void 0:e.cartId)||C.current||(C.current=!0,S(e))},[C,S]),O=(0,D.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>{var{id:n}=e;return -1===t.findIndex(e=>{var{id:t}=e;return n===t})})},[]),L=(0,D.useCallback)(e=>{var{cartItems:t=[],itemsToAdd:n=[]}=e,r=[...t];return n.forEach(e=>{var t=(0,g.rw)({asset:e}),n=r.findIndex(n=>{var{id:r,type:i}=n;return r===e.id&&i===t});n>-1?r[n]=(0,i._)({},e):r.unshift((0,a._)((0,i._)({},e),{addedTime:new Date}))}),r},[]),z=(0,D.useCallback)((e=(0,r._)(function*(e){var t,{items:n,licenseId:a,licenseAsJpeg:o}=e;return Promise.all(null==n?void 0:n.map((t=(0,r._)(function*(e){var t=(0,g.rw)({asset:e}),n=a||e.licenseId,r=o||e.licenseAsJpeg,s=yield(0,h.Oo)({asset:e,licenseName:n});return{item_id:e.id,item_type:t,metadata:{cart:(0,i._)({license_id:n,license_as_jpeg:r,subscription_id:e.subscriptionId,size:s.content_size,format:s.content_format,sizes:(0,h.rB)({asset:e}),search_context:A(e),source:[d.gP,d.cF].some(e=>e===t)?m._e:""},t===d.w5&&{angle:s.angle})}}}),function(e){return t.apply(this,arguments)})))}),function(t){return e.apply(this,arguments)}),[A]),N=(0,D.useCallback)((t=(0,r._)(function*(e){var{cart:t,eventLabel:n,gridItems:r,isPrimary:o=!0,itemsToAdd:c,licenseId:d,formatType:m,licensePrice:p,mutateCart:_,withOptimisticUpdate:h=!0,pageSection:g,listId:b}=e;try{var C=c.map(e=>(0,a._)((0,i._)({},e),{meta:(0,i._)({search_context:A(e)},e.meta)}));y({status:"",error:void 0}),w(!1);var S=L({cartItems:t.items,itemsToAdd:C});if(S.length>v.fv){y({status:l.cM}),w(!0);return}h&&_(e=>(0,a._)((0,i._)({},e),{items:S}),!1);var k=(0,s.Xq)({urlParams:{isPrimary:o}}).formattedUrl,P=yield z({items:C,licenseId:d,licenseAsJpeg:m===u._3});yield E.jm.post(k,P),y({status:l.MR}),j(c),o&&C.forEach(e=>{var i=t.items.find(t=>{var{id:n}=t;return n===e.id});i&&d!==i.licenseId&&T({cart:t,eventLabel:n,gridItems:r,items:[e],matchingCartItem:i,pageSection:g}),I({cart:t,eventLabel:n,gridItems:r,items:[e],licenseId:d,licensePrice:p,pageSection:g,listId:b})})}catch(e){y({status:l.cM,error:e})}finally{yield f(V({isPrimary:o}))}}),function(e){return t.apply(this,arguments)}),[L,z,A,I,T,f,j]);return{triggerCartViewedEvent:x,addCartItems:N,removeCartItems:(0,D.useCallback)((n=(0,r._)(function*(e){var{cartData:t,eventLabel:n,gridItems:r,isPrimary:o=!0,itemsToRemove:l=[],mutateCart:u,pageSection:c,routePathProps:d,withOptimisticUpdate:v=!0,mutateCallback:m}=e;try{v&&u(e=>(0,a._)((0,i._)({},e),{items:O(e.items,l)}),!1);var p=(0,s.h2)({urlParams:{isPrimary:o}}).formattedUrl;yield E.jm.delete(p,{data:l.map(e=>({item_id:e.id,item_type:(0,g.rw)({asset:e})}))}),o&&T({cart:t,eventLabel:n,gridItems:r,items:l,pageSection:c}),d&&k.push(...d)}catch(e){}finally{m?m({isPrimary:o}):yield f(V({isPrimary:o}))}}),function(e){return n.apply(this,arguments)}),[O,T,k,f]),moveToSaveForLater:(0,D.useCallback)((o=(0,r._)(function*(e){var{eventLabel:t,itemsToMove:n,pageSection:r,primaryCart:o,savedForLaterCart:u,mutatePrimaryCart:c,mutateSavedForLaterCart:d}=e;y({status:"",error:void 0}),w(!1);var m=L({cartItems:u.items,itemsToAdd:n});if(m.length>v.fv)throw y({status:l.cM}),w(!0),Error(q);c(e=>(0,a._)((0,i._)({},e),{items:O(e.items,n)}),!1),d(e=>(0,a._)((0,i._)({},e),{items:m}),!1);var p=(0,s.FB)({urlParams:{fromCartType:v.Yl,toCartType:v.d7}}).formattedUrl,f=yield z({items:n});yield E.jm.post(p,f),T({cart:o,eventLabel:t,items:n,pageSection:r})}),function(e){return o.apply(this,arguments)}),[L,z,T,O]),moveToPrimary:(0,D.useCallback)((c=(0,r._)(function*(e){var{itemsToMove:t,primaryCart:n,mutatePrimaryCart:r,mutateSavedForLaterCart:o}=e;y({status:"",error:void 0}),w(!1);var u=L({cartItems:n.items,itemsToAdd:t});if(u.length>v.fv)throw y({status:l.cM}),w(!0),Error(q);o(e=>(0,a._)((0,i._)({},e),{items:O(e.items,t)}),!1),r(e=>(0,a._)((0,i._)({},e),{items:u}),!1);var c=(0,s.FB)({urlParams:{fromCartType:v.d7,toCartType:v.Yl}}).formattedUrl,d=yield z({items:t});yield E.jm.post(c,d),I({cart:n,items:t})}),function(e){return c.apply(this,arguments)}),[L,z,I,O]),addToCartStatus:_,setAddToCartStatus:y,isSizeLimitWarning:b}},H=e=>{var{cartItems:t}=e,{data:n}=(0,j.av)(),r=(0,x.U)(),{isLoading:i}=r,a=(0,o._)(r,["isLoading"]),s=(e=>{var{items:t}=e;return null==t?void 0:t.some(e=>{var{hasCreditsRemaining:t}=e;return!t})})({items:t}),{amountType:l,hasInsufficientSubscriptionCredits:u,insufficientAmount:c,hasLowDebitableBalance:d}=(0,S.k)({items:t,isLoading:!n||i,subscriptions:n,userCapabilities:a});return{amountType:l,isDebitableUser:(0,w.Kc)({userCapabilities:a}),userCanViewDebitableBalance:(0,w.LQ)({userCapabilities:a}),hasInsufficientCartItemsCredits:s,hasInsufficientSubscriptionCredits:u,insufficientAmount:c,hasLowDebitableBalance:d}}},42569:function(e,t,n){n.d(t,{B:function(){return v}});var r=n(57460),i=n(9778),a=n(34082),o=n(27467),s=n(23887),l=n(46814),u=n(79756),c=n(64528),d=n(3255),v=function(){var{queryParams:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:t}=(0,l.jy)(),n=(0,r._)({target:a.dlz,site_name:o.mC,setting_type:a.dlz},e);return(0,d.ZP)((null==t?void 0:t.id)&&(null==t?void 0:t.organizationId)&&(0,i.nI)({queryParams:n}).formattedUrl,e=>u.uS.get(e).then(e=>(0,c.O)(e.data)),{dedupingInterval:s.yR})}},63031:function(e,t,n){n.d(t,{k:function(){return r}});var r=e=>e&&"string"==typeof e?"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)):""}}]);
//# sourceMappingURL=24866-56f58a93b785400d.js.map